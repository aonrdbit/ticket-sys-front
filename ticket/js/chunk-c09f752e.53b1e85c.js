(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c09f752e"],{5975:function(e,r,o){},a55b:function(e,r,o){"use strict";o.r(r);var s=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",[o("Header"),o("div",{staticClass:"signin-form"},[o("h3",{staticClass:"sign-title"},[e._v("ticket-sys 登录")]),o("div",[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.loginForm,rules:e.rules,"status-icon":""}},[o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{attrs:{autocomplete:"off",placeholder:"用户名","prefix-icon":"el-icon-user-solid"},model:{value:e.loginForm.username,callback:function(r){e.$set(e.loginForm,"username",r)},expression:"loginForm.username"}})],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码","prefix-icon":"el-icon-lock"},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}})],1),o("el-form-item",[o("el-button",{staticClass:"login-btn",attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("登录")])],1)],1)],1)])],1)},t=[],n=o("b1ce"),a=o("2f62"),i=o("0418"),u={name:"login",components:{Header:i["a"]},data(){return{loginForm:{username:"",password:""},userToken:"",rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{...Object(a["b"])(["changeLogin"]),submitForm(){let e=this;this.$axios({method:"post",url:n["a"].base_url+"/user/login",data:{username:e.loginForm.username,password:e.loginForm.password}}).then((function(r){console.log(r.data),"true"===r.data.msg?(e.userToken=r.data.token,e.changeLogin({Authorization:e.userToken,username:e.loginForm.username,userId:r.data.userId}),console.log(e.$route.query.redirect),null!==e.$route.query.redirect&&void 0!==e.$route.query.redirect&&"/register"!==e.$route.query.redirect?e.$router.push(e.$route.query.redirect):"admin"===e.loginForm.username?e.$router.push("/admin"):e.$router.push("/"),e.$message("登录成功")):e.$message("密码或用户名错误")})).catch((function(r){console.log("err",r),e.$message("密码或用户名错误")}))},goRegister(){this.$router.push("/register")}}},l=u,m=(o("ff78"),o("2877")),c=Object(m["a"])(l,s,t,!1,null,"863f888c",null);r["default"]=c.exports},ff78:function(e,r,o){"use strict";var s=o("5975"),t=o.n(s);t.a}}]);
//# sourceMappingURL=chunk-c09f752e.53b1e85c.js.map