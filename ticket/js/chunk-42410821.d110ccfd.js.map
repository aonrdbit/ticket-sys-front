{"version":3,"sources":["webpack:///./src/views/Order.vue?a1e8","webpack:///./src/views/Order.vue?b9b8","webpack:///src/views/Order.vue","webpack:///./src/views/Order.vue?ceca","webpack:///./src/views/Order.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","active","staticClass","model","value","callback","$$v","addName","expression","addID","addPhone","on","addLine","_v","friends","handleSelectionChange","_e","_l","c","key","cx","s","seNo","status","$event","handleSeat","check","$set","_s","fun","seats","length","next","slot","$route","query","trNo","st","ed","timeformat","date","st_timeformat","st_time","quit","multipleSelection","tot","submit","staticRenderFns","component"],"mappings":"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","file":"js/chunk-42410821.d110ccfd.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=style&index=0&id=8d458e12&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=style&index=0&id=8d458e12&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('Header'),_c('div',{staticStyle:{\"height\":\"50px\"}}),_c('div',{staticStyle:{\"margin\":\"auto\",\"width\":\"1040px\"}},[_c('el-steps',{attrs:{\"active\":_vm.active,\"finish-status\":\"success\"}},[_c('el-step',{attrs:{\"title\":\"选择乘客信息\"}}),_c('el-step',{attrs:{\"title\":\"选择座位信息\"}}),_c('el-step',{attrs:{\"title\":\"确认订单\"}})],1),_c('el-divider'),(_vm.active===0 || _vm.active===1)?_c('div',[_c('el-form',{staticClass:\"demo-form-inline\",staticStyle:{\"float\":\"left\"},attrs:{\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"添加常用联系人\"}}),_c('el-form-item',{attrs:{\"label\":\"姓名\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入姓名\"},model:{value:(_vm.addName),callback:function ($$v) {_vm.addName=$$v},expression:\"addName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"身份证号码\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入身份证号码\"},model:{value:(_vm.addID),callback:function ($$v) {_vm.addID=$$v},expression:\"addID\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号码\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入手机号码\"},model:{value:(_vm.addPhone),callback:function ($$v) {_vm.addPhone=$$v},expression:\"addPhone\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addLine}},[_vm._v(\"增加\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.friends},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"idx\",\"label\":\"身份证号码\"}})],1)],1):_vm._e(),(_vm.active===1)?_c('div',[_c('el-divider'),_c('span',[_vm._v(\"1车厢为一等座，2，3车厢为二等座\")]),_c('div',_vm._l((_vm.seats),function(c){return _c('el-collapse',{key:c.cx},[_c('el-collapse-item',{attrs:{\"title\":c.cx+'车厢'}},_vm._l((c.ss),function(s){return _c('el-checkbox',{key:s.seNo,staticStyle:{\"float\":\"left\"},attrs:{\"disabled\":s.status},on:{\"change\":function($event){return _vm.handleSeat(c.cx,s.seNo,s.check)}},model:{value:(s.check),callback:function ($$v) {_vm.$set(s, \"check\", $$v)},expression:\"s.check\"}},[_vm._v(\" \"+_vm._s(_vm.fun(s.seNo))+\" \")])}),1)],1)}),1)],1):_vm._e(),((_vm.active===0 ||_vm.active===1 && _vm.seats.length!==0)  )?_c('div',[_c('el-button',{staticStyle:{\"margin-top\":\"12px\"},on:{\"click\":_vm.next}},[_vm._v(\"下一步\")])],1):_vm._e(),(_vm.active===2)?_c('div',[_c('div',[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",staticStyle:{\"padding-bottom\":\"20px\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',{staticStyle:{\"float\":\"left\"}},[_vm._v(\" \"+_vm._s(_vm.$route.query.trNo)+\" \"+_vm._s(_vm.$route.query.st)+\"====>\"+_vm._s(_vm.$route.query.ed)+\" \"+_vm._s(_vm.timeformat(_vm.$route.query.date))+\" \"+_vm._s(_vm.st_timeformat(_vm.$route.query.st_time))+\"开 \")]),_c('el-button',{staticStyle:{\"float\":\"right\",\"padding\":\"3px 0\"},attrs:{\"type\":\"text\"},on:{\"click\":_vm.quit}},[_vm._v(\"取消订单\")])],1),_c('div',{staticClass:\"text item\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.multipleSelection}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"idx\",\"label\":\"身份证号\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"手机号\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"cx\",\"label\":\"车厢\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"zw\",\"label\":\"座位号\",\"width\":\"180\"}})],1)],1)])],1),_c('div',{staticStyle:{\"float\":\"right\"}},[_c('el-button',{staticStyle:{\"color\":\"black\"},attrs:{\"type\":\"text\"}},[_vm._v(\"总计：\"+_vm._s(_vm.tot)+\"元\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.submit}},[_vm._v(\"支付订单\")])],1)]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div style=\"text-align: center;\">\n        <Header></Header>\n        <div style=\"height: 50px;\"></div>\n        <div style=\"margin: auto; width: 1040px;\">\n            <el-steps :active=\"active\" finish-status=\"success\">\n                <el-step title=\"选择乘客信息\">\n                </el-step>\n                <el-step title=\"选择座位信息\">\n                </el-step>\n                <el-step title=\"确认订单\">\n                </el-step>\n            </el-steps>\n            <el-divider></el-divider>\n            <div v-if=\"active===0 || active===1\">\n                <el-form :inline=\"true\" class=\"demo-form-inline\" style=\"float: left;\">\n                    <el-form-item label=\"添加常用联系人\">\n                    </el-form-item>\n                    <el-form-item label=\"姓名\">\n                        <el-input v-model=\"addName\" placeholder=\"请输入姓名\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"身份证号码\">\n                        <el-input v-model=\"addID\" placeholder=\"请输入身份证号码\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"手机号码\">\n                        <el-input v-model=\"addPhone\" placeholder=\"请输入手机号码\"></el-input>\n                    </el-form-item>\n                    <el-form-item>\n                        <el-button type=\"primary\" @click=\"addLine\">增加</el-button>\n                    </el-form-item>\n                </el-form>\n                <el-table\n                        :data=\"friends\"\n                        style=\"width: 100%\"\n                        @selection-change=\"handleSelectionChange\">\n                    <el-table-column\n                            type=\"selection\"\n                            width=\"55\">\n                    </el-table-column>\n                    <el-table-column\n                            prop=\"name\"\n                            label=\"姓名\"\n                            width=\"180\">\n                    </el-table-column>\n                    <el-table-column\n                            prop=\"idx\"\n                            label=\"身份证号码\">\n                    </el-table-column>\n                </el-table>\n            </div>\n            <div v-if=\"active===1\">\n                <el-divider></el-divider>\n                <span>1车厢为一等座，2，3车厢为二等座</span>\n                <div>\n                    <el-collapse v-for=\"c in seats\" :key=\"c.cx\">\n                        <el-collapse-item :title=\"c.cx+'车厢'\">\n                            <el-checkbox @change=\"handleSeat(c.cx,s.seNo,s.check)\" v-model=\"s.check\"\n                                         style=\"float: left;\" v-for=\"s in c.ss\" :disabled=\"s.status\" :key=\"s.seNo\">\n                                {{fun(s.seNo)}}\n                            </el-checkbox>\n                        </el-collapse-item>\n                    </el-collapse>\n                </div>\n            </div>\n            <div v-if=\"(active===0 ||active===1 && seats.length!==0)  \">\n                <el-button style=\"margin-top: 12px;\" @click=\"next\">下一步</el-button>\n            </div>\n            <div v-if=\"active===2\">\n                <div>\n                    <el-card class=\"box-card\">\n                        <div slot=\"header\" class=\"clearfix\" style=\"padding-bottom: 20px;\">\n                            <span style=\"float: left;\">\n                                {{$route.query.trNo}} {{$route.query.st}}====>{{$route.query.ed}}\n                                {{timeformat($route.query.date)}} {{st_timeformat($route.query.st_time)}}开\n                            </span>\n                            <el-button style=\"float: right; padding: 3px 0\" type=\"text\" @click=\"quit\">取消订单</el-button>\n                        </div>\n                        <div class=\"text item\">\n                            <el-table\n                                    :data=\"multipleSelection\"\n                                    style=\"width: 100%\">\n                                <el-table-column\n                                        prop=\"name\"\n                                        label=\"姓名\"\n                                        width=\"180\">\n                                </el-table-column>\n                                <el-table-column\n                                        prop=\"idx\"\n                                        label=\"身份证号\"\n                                        width=\"180\">\n                                </el-table-column>\n                                <el-table-column\n                                        prop=\"phone\"\n                                        label=\"手机号\"\n                                        width=\"180\">\n                                </el-table-column>\n                                <el-table-column\n                                        prop=\"cx\"\n                                        label=\"车厢\"\n                                        width=\"180\">\n                                </el-table-column>\n                                <el-table-column\n                                        prop=\"zw\"\n                                        label=\"座位号\"\n                                        width=\"180\">\n                                </el-table-column>\n                            </el-table>\n                        </div>\n                    </el-card>\n                </div>\n                <!--                <div v-for=\"o in multipleSelection\">{{o}}</div>-->\n                <!--                <div>车次信息：{{this.$route.query}}</div>-->\n                <!--                <div v-for=\"v in multipleSeat\">{{v}}</div>-->\n                <div style=\"float: right\">\n                    <el-button type=\"text\" style=\"color: black\">总计：{{tot}}元</el-button>\n                    <el-button type=\"danger\" @click=\"submit\">支付订单</el-button>\n                </div>\n\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Header from \"../components/Header\";\n    import api from \"../constant/api\";\n    import {mapMutations} from \"vuex\";\n    import { Loading } from 'element-ui';\n\n\n    const ms = {\n        \"Jan\": '01',\n        \"Feb\": \"02\",\n        \"Mar\": \"03\",\n        \"Sep\": \"09\",\n        \"Oct\": \"10\",\n        \"Nov\": \"11\",\n        \"Dec\": \"12\",\n    }\n    export default {\n        name: \"Buy\",\n        components: {Header},\n\n        data() {\n            //{ \"psgId\": 1, \"phone\": \"13344455666\", \"idx\": \"330781********415X\", \"id\": \"33078119850907415X\", \"name\": \"管理员\" }\n            return {\n                active: 0,\n                addName: '',\n                addID: '',\n                addPhone: '',\n                friends: [],\n                multipleSelection: [],\n                seats: [],\n                multipleSeat: [],\n                tot:0,\n            };\n        },\n        methods: {\n            quit() {\n                this.$router.push({\n                    path: \"/list\",\n                    query: {st: this.$route.query.st, ed: this.$route.query.ed, date: this.$route.query.date.toString()}\n                });\n            },\n            st_timeformat(t) {\n                return t[0] + t[1] + t[2] + t[3] + t[4];\n            },\n            timeformat(t) {\n                //Mon Dec 30 2019 00:00:00 GMT+0800 (China Standard Time)\n                return t[11] + t[12] + t[13] + t[14] + '-' + ms[t[4] + t[5] + t[6]] + '-' + t[8] + t[9];\n            },\n            fun(x) {\n                return x.substr(3, 5)\n            },\n            submit() {\n                //支付创建接口，待填坑\n                for (let i = 0; i < this.multipleSelection.length; i++) {\n                    console.log(this.multipleSelection[i]);\n                }\n                console.log(\n                    this.$route.query.trId,\n                    this.$route.query.trNo,\n                    this.$route.query.st,\n                    this.$route.query.ed,\n                    this.timeformat(this.$route.query.date),\n                    this.st_timeformat(this.$route.query.st_time));\n                let v = this;\n                this.$axios({\n                    method: 'post',\n                    url: api.base_url + '/order/add',\n                    data: {\n                        \"userId\": v.$store.state.userId.toString(),\n                        \"trId\":this.$route.query.trId.toString(),\n                        \"trNo\":this.$route.query.trNo.toString(),\n                        \"st\":this.$route.query.st,\n                        \"ed\":this.$route.query.ed,\n                        \"firPrice\":this.$route.query.firPrice.toString(),\n                        \"secPrice\":this.$route.query.secPrice.toString(),\n                        \"tot\":this.tot.toString(),\n                        \"date\":this.timeformat(this.$route.query.date),\n                        \"psgs\":this.multipleSelection\n                    }\n                }).then(function (res) {\n                    console.log(res.data);\n                    if (res.data.msg === \"true\") {\n                        v.$message(\"支付成功\");\n                        v.$router.push(\"/user\")\n                    } else {\n                        v.$message('网络或内部错误');\n                    }\n                }).catch(function (err) {\n                    console.log(\"err\", err);\n                    v.$message('网络或内部错误');\n                })\n            },\n            handleSeat(c, s, che) {\n                if (che === true) {\n                    this.multipleSeat.push(s);\n                } else {\n                    let idx = 0;\n                    for (let i = 0; i < this.multipleSeat.length; i++) {\n                        if (this.multipleSeat[i] === s.trId) {\n                            idx = i;\n                        }\n                    }\n                    console.log(idx);\n                    this.multipleSeat.splice(idx, 1);\n                }\n            },\n            addLine() {\n                let v = this;\n                this.$axios({\n                    method: 'post',\n                    url: api.base_url + '/user/passenger/add',\n                    data: {\n                        \"userId\": v.$store.state.userId+\"\",\n                        \"Name\": v.addName+\"\",\n                        \"ID\": v.addID+\"\",\n                        \"phone\": v.addPhone+\"\",\n                    }\n                }).then(function (res) {\n                    console.log(res.data);\n                    if (res.data.msg === \"true\") {\n                        v.getAllPassenger();\n                    } else {\n                        v.$message(\"添加错误，请检查信息\")\n                    }\n                }).catch(function (err) {\n                    console.log(\"err\", err);\n                    v.$message('网络或内部错误');\n                })\n            },\n            handleSelectionChange(val) {\n                this.multipleSelection = val;\n                console.log(this.multipleSelection)\n            },\n            pre() {\n                if (this.active-- < 0) this.active = 2;\n            },\n            openFullScreen() {\n                const loading = this.$loading({\n                    lock: true,\n                    text: 'Loading',\n                    spinner: 'el-icon-loading',\n                    background: 'rgba(0, 0, 0, 0.7)'\n                });\n                return loading;\n            },\n            closeFullScreen(loading){\n                loading.close();\n            },\n            next() {\n                if(this.active===0){\n                    // let l=this.openFullScreen();\n                    // while(this.seats!==[]){\n                    //     this.closeFullScreen(l);\n                    // }\n                }\n                if (this.active === 1) {\n                    console.log(this.multipleSelection.length, this.multipleSeat.length)\n                    if (this.multipleSelection.length !== this.multipleSeat.length\n                        || this.multipleSelection.length===0\n                        || this.multipleSeat.length===0) {\n                        this.$message('每个乘客选择一个座位')\n                        return;\n                    }\n                    for (let i = 0; i < this.multipleSelection.length; i++) {\n                        this.multipleSelection[i].cx = this.multipleSeat[i].substr(0, 2);\n                        this.multipleSelection[i].zw = this.multipleSeat[i].substr(3, 3);\n                    }\n                    this.calPrice();\n                }\n                if (this.active++ > 2) this.active = 0;\n            },\n            getAllPassenger() {\n                let v = this;\n                this.$axios({\n                    method: 'post',\n                    url: api.base_url + '/user/passenger/all',\n                    data: {\n                        \"userId\": v.$store.state.userId.toString(),\n                    }\n                }).then(function (res) {\n                    console.log(res.data);\n                    v.friends = res.data.list;\n                }).catch(function (err) {\n                    console.log(\"err\", err);\n                    v.$message('网络或内部错误');\n                })\n            },\n            getSeats() {\n                let v = this;\n                this.$axios({\n                    method: 'post',\n                    url: api.base_url + '/train/seat/all',\n                    data: {\n                        \"trId\": v.$route.query.trId.toString(),\n                        \"st\":v.$route.query.st,\n                        \"ed\":v.$route.query.ed,\n                    }\n                }).then(function (res) {\n                    console.log(res)\n                    v.seats = res.data.list;\n                }).catch(function (err) {\n                    v.$message('网络或内部错误');\n                })\n            },\n            calPrice(){\n                var t=0;\n                var v=this.multipleSelection;\n                for(let i=0;i<v.length;i++){\n                    if(v[i].cx==='01' || v[i].cx==='02'){\n                        t+=parseFloat(this.$route.query.firPrice);\n                    }else{\n                        t+=parseFloat(this.$route.query.secPrice);\n                    }\n                    console.log(t)\n                }\n                this.tot=t;\n            }\n        },\n        created() {\n            this.getAllPassenger();\n            this.getSeats();\n            // this.calPrice();\n        },\n        mounted() {\n            this.getAllPassenger();\n            this.getSeats();\n            // this.calPrice();\n        }\n    }\n</script>\n\n<style scoped>\n    .el-checkbox {\n        width: 70px;\n        font-size: 20px;\n    }\n\n    /deep/ .el-collapse-item__header {\n        font-size: 15px;\n    }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=8d458e12&scoped=true&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Order.vue?vue&type=style&index=0&id=8d458e12&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8d458e12\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}